# {{project_name}} Service Configuration
# This file is used by the Marty framework CLI to configure and run the service

# Service identification
service:
  name: "{{project_slug}}"
  version: "1.0.0"
  description: "{{project_description}}"

# Server configuration
host: "0.0.0.0"
port: {{service_port | default(8000)}}

# gRPC configuration (optional)
{% if grpc_enabled %}
grpc_enabled: true
grpc_port: {{grpc_port | default(50051)}}
grpc_module: "grpc_server:serve"
{% else %}
grpc_enabled: false
{% endif %}

# Application modules
app_module: "main:app"

# Development settings
debug: {{debug | default(false)}}
reload: {{reload | default(false)}}
log_level: "{{log_level | default('info')}}"
access_log: {{access_log | default(true)}}

# Performance settings
workers: {{workers | default(1)}}

# Monitoring
metrics_enabled: {{metrics_enabled | default(true)}}
metrics_port: {{metrics_port | default(9090)}}

# Database configuration (if applicable)
{% if database_enabled %}
database:
  url: "postgresql://{{db_user | default('user')}}:{{db_password | default('password')}}@{{db_host | default('localhost')}}:{{db_port | default(5432)}}/{{db_name | default(project_slug)}}"
  pool_size: {{db_pool_size | default(10)}}
  max_overflow: {{db_max_overflow | default(20)}}
{% endif %}

# Security settings
{% if security_enabled %}
security:
  secret_key: "{{secret_key | default('change-me-in-production')}}"
  algorithm: "HS256"
  access_token_expire_minutes: {{token_expire_minutes | default(30)}}
{% endif %}

# Environment-specific overrides can be placed in:
# - config/development.yaml
# - config/testing.yaml
# - config/production.yaml
