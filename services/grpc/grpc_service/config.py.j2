"""
Configuration for {{service_name}} service using DRY patterns.

This configuration automatically inherits all common patterns from GRPCServiceConfig,
reducing configuration code by ~70% compared to traditional patterns.
"""

from marty_common.base_config import GRPCServiceConfig


class {{service_class}}Config(GRPCServiceConfig):
    """
    Configuration for {{service_name}} service.

    Inherits from GRPCServiceConfig which provides:
    - Common service configuration (logging, debugging, etc.)
    - gRPC server configuration (ports, workers, options)
    - Security configuration (TLS, CORS)
    - Health check and metrics configuration
    - Database configuration (if needed)
    """

    # Service-specific configuration fields
    # Add your custom configuration here
    # Example:
    # max_document_size: int = Field(default=10485760, description="Maximum document size in bytes")
    # cache_ttl_seconds: int = Field(default=3600, description="Cache TTL in seconds")

    class Config:
        """Pydantic configuration."""
        env_prefix = "{{service_package|upper}}_"


# Factory function for easy configuration creation
def create_{{service_package}}_config(**kwargs) -> {{service_class}}Config:
    """
    Create {{service_name}} configuration with defaults.

    Args:
        **kwargs: Configuration overrides

    Returns:
        Configured {{service_class}}Config instance
    """
    defaults = {
        "service_name": "{{service_name}}",
        "title": "{{service_class}} API",
        "description": "{{service_description}}",
        "grpc_port": {{grpc_port}},
        "reflection_enabled": True,
    }

    # Merge defaults with provided kwargs
    config_data = {**defaults, **kwargs}
    return {{service_class}}Config(**config_data)
